# WhatsApp Multi-Session Manager - Docker + MySQL Configuration
# Copy this file to .env when using Docker with MySQL
# Usage: cp .env.docker.mysql .env

#############################################
# APPLICATION CONFIGURATION
#############################################

# Server port (internal container port, usually 8080)
PORT=8080

# JWT secret key for authentication (CHANGE THIS IN PRODUCTION!)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-mysql-2024

# Application mode: debug, release, or test
GIN_MODE=release

#############################################
# DATABASE CONFIGURATION - MYSQL
#############################################

# Database type (MUST be mysql for this configuration)
DATABASE_TYPE=mysql

# MySQL Connection Settings
MYSQL_HOST=mysql
MYSQL_PORT=3306
MYSQL_USER=whatsapp_user
MYSQL_PASSWORD=your_secure_mysql_password_here
MYSQL_DATABASE=whatsapp_multi_session

# WhatsApp sessions database path (still uses SQLite for sessions)
WHATSAPP_DB_PATH=/app/data/sessions.db

#############################################
# LOGGING CONFIGURATION
#############################################

# Enable console logging
ENABLE_LOGGING=true

# Enable database logging (set to false for console-only logging)
ENABLE_DATABASE_LOG=true

# Log level: debug, info, warn, error
LOG_LEVEL=info

#############################################
# DIRECTORY CONFIGURATION
#############################################

# Local directories that will be mounted as volumes
# These paths are relative to docker-compose.yml location

# Main data directory (contains sessions database and files)
DATA_DIR=./whatsapp

# WhatsApp sessions directory
WHATSAPP_DIR=./whatsapp/sessions

# Application logs directory
LOGS_DIR=./whatsapp/logs

# Media files directory
MEDIA_DIR=./media

# Optional configuration directory
CONFIG_DIR=./config

#############################################
# DEFAULT ADMIN USER
#############################################

# Default admin username
ADMIN_USERNAME=admin

# Default admin password (CHANGE THIS IN PRODUCTION!)
ADMIN_PASSWORD=SuperSecureAdminPassword123!

#############################################
# APPLICATION SETTINGS
#############################################

# JWT token expiration time (examples: 24h, 7d, 30m)
SESSION_TIMEOUT=24h

# Maximum number of WhatsApp sessions allowed
MAX_SESSIONS=20

# Auto-connect restored sessions on startup
AUTO_CONNECT=true

#############################################
# SECURITY SETTINGS
#############################################

# CORS allowed origins (comma-separated, * for all)
# For production, specify your domain(s):
# CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
# For development with docker:
CORS_ALLOWED_ORIGINS=http://localhost:18080,http://127.0.0.1:18080

# Rate limiting: requests per minute per IP
RATE_LIMIT=200

#############################################
# WEBHOOK CONFIGURATION
#############################################

# Default webhook timeout in seconds
WEBHOOK_TIMEOUT=30

# Maximum webhook retry attempts
WEBHOOK_MAX_RETRIES=3

#############################################
# WHATSAPP SPECIFIC SETTINGS
#############################################

# QR code timeout (seconds)
QR_TIMEOUT=30

# Message sending timeout (seconds)
MESSAGE_TIMEOUT=30

# Auto-disconnect inactive sessions after (hours)
AUTO_DISCONNECT_HOURS=24

#############################################
# DOCKER SPECIFIC SETTINGS
#############################################

# Container memory limit
MEMORY_LIMIT=1024M

# Container CPU limit
CPU_LIMIT=2.0

# Log file settings
LOG_MAX_SIZE=50m
LOG_MAX_FILES=5

# Docker network settings
NETWORK_MODE=bridge

#############################################
# MYSQL SPECIFIC SETTINGS
#############################################

# MySQL root password (for MySQL container)
MYSQL_ROOT_PASSWORD=very_secure_root_password_123

# MySQL database initialization
MYSQL_INITDB_SKIP_TZINFO=1

# MySQL connection settings
MYSQL_CHARSET=utf8mb4
MYSQL_COLLATION=utf8mb4_unicode_ci

# MySQL performance settings
MYSQL_INNODB_BUFFER_POOL_SIZE=256M
MYSQL_MAX_CONNECTIONS=200

#############################################
# DEVELOPMENT SETTINGS
#############################################

# Enable debug mode (shows more detailed logs)
DEBUG=false

# Enable API documentation endpoint
ENABLE_DOCS=true

# Enable metrics endpoint
ENABLE_METRICS=true

#############################################
# BACKUP SETTINGS
#############################################

# Enable automatic database backups
ENABLE_BACKUP=true

# Backup interval in hours
BACKUP_INTERVAL=6

# Number of backup files to keep
BACKUP_RETENTION=14

# Backup directory (inside container)
BACKUP_DIR=/app/backups

#############################################
# PERFORMANCE TUNING
#############################################

# Connection pool settings
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=300

# HTTP server settings
HTTP_READ_TIMEOUT=30
HTTP_WRITE_TIMEOUT=30
HTTP_IDLE_TIMEOUT=120

#############################################
# MONITORING & HEALTH CHECKS
#############################################

# Health check interval (seconds)
HEALTH_CHECK_INTERVAL=30

# Health check timeout (seconds)
HEALTH_CHECK_TIMEOUT=10

# Enable Prometheus metrics
ENABLE_PROMETHEUS=false
PROMETHEUS_PORT=9090

#############################################
# SSL/TLS CONFIGURATION (Optional)
#############################################

# Enable HTTPS (requires certificates)
ENABLE_HTTPS=false

# SSL certificate paths (inside container)
SSL_CERT_PATH=/app/certs/cert.pem
SSL_KEY_PATH=/app/certs/key.pem

#############################################
# EXTERNAL SERVICES (Optional)
#############################################

# Redis for session storage (optional)
REDIS_ENABLED=false
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Email notifications (optional)
EMAIL_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@yourdomain.com

#############################################
# FILE UPLOAD SETTINGS
#############################################

# Maximum file upload size (MB)
MAX_UPLOAD_SIZE=50

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,mp4,mp3,wav

# Upload directory
UPLOAD_DIR=/app/uploads

#############################################
# TIMEZONE & LOCALIZATION
#############################################

# Application timezone
TZ=UTC

# Default language
DEFAULT_LANGUAGE=en

# Date format
DATE_FORMAT=2006-01-02 15:04:05